<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Ym4r::MapstractionPlugin::Mapstraction</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Ym4r::MapstractionPlugin::Mapstraction</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction_rb.html">
                vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Represents a Mapstracted map.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000025">center_zoom_init</a>&nbsp;&nbsp;
      <a href="#M000026">center_zoom_on_bounds_init</a>&nbsp;&nbsp;
      <a href="#M000038">clusterer_global_init</a>&nbsp;&nbsp;
      <a href="#M000029">clusterer_init</a>&nbsp;&nbsp;
      <a href="#M000024">control_init</a>&nbsp;&nbsp;
      <a href="#M000042">create</a>&nbsp;&nbsp;
      <a href="#M000040">declare_global_init</a>&nbsp;&nbsp;
      <a href="#M000032">declare_init</a>&nbsp;&nbsp;
      <a href="#M000021">div</a>&nbsp;&nbsp;
      <a href="#M000035">event_global_init</a>&nbsp;&nbsp;
      <a href="#M000034">event_init</a>&nbsp;&nbsp;
      <a href="#M000020">header</a>&nbsp;&nbsp;
      <a href="#M000022">header_width_height</a>&nbsp;&nbsp;
      <a href="#M000036">marker_global_init</a>&nbsp;&nbsp;
      <a href="#M000037">marker_group_global_init</a>&nbsp;&nbsp;
      <a href="#M000028">marker_group_init</a>&nbsp;&nbsp;
      <a href="#M000027">marker_init</a>&nbsp;&nbsp;
      <a href="#M000019">new</a>&nbsp;&nbsp;
      <a href="#M000039">polyline_global_init</a>&nbsp;&nbsp;
      <a href="#M000030">polyline_init</a>&nbsp;&nbsp;
      <a href="#M000033">record_global_init</a>&nbsp;&nbsp;
      <a href="#M000023">record_init</a>&nbsp;&nbsp;
      <a href="#M000031">set_map_type_init</a>&nbsp;&nbsp;
      <a href="#M000041">to_html</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="MappingObject.html">MappingObject</a></span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VML_NAMESPACE</td>
          <td>=</td>
          <td class="context-item-value">&quot;xmlns:v=\&quot;urn:schemas-microsoft-com:vml\&quot;&quot;</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
A constant containing the declaration of the VML namespace, necessary to
display polylines in google maps under IE.

</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">container</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The id of the DIV that will contain the map in the HTML page.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">map_type</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The id of the DIV that will contain the map in the HTML page.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">header</span><span class="method-args">(types,options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 32</span>
32:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">header</span>(<span class="ruby-identifier">types</span>,<span class="ruby-identifier">options</span> = {})
33:         <span class="ruby-identifier">a</span> = <span class="ruby-value str">&quot;&quot;</span>
34:         <span class="ruby-constant">Array</span>(<span class="ruby-identifier">types</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
35:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:google</span>
36:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with_vml</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:with_vml</span>)
37:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:key</span>)
38:               <span class="ruby-identifier">api_key</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:key</span>]
39:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">GMAPS_API_KEY</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
40:               <span class="ruby-comment cmt">#For this environment, multiple hosts are possible.</span>
41:               <span class="ruby-comment cmt">#:host must have been passed as option</span>
42:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:host</span>)
43:                 <span class="ruby-identifier">api_key</span> = <span class="ruby-constant">GMAPS_API_KEY</span>[<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:host</span>]]
44:               <span class="ruby-keyword kw">else</span>
45:                 <span class="ruby-identifier">raise</span> <span class="ruby-constant">AmbiguousGMapsAPIKeyException</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">GMAPS_API_KEY</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;,&quot;</span>))
46:               <span class="ruby-keyword kw">end</span>
47:             <span class="ruby-keyword kw">else</span>
48:               <span class="ruby-comment cmt">#Only one possible key: take it</span>
49:               <span class="ruby-identifier">api_key</span> = <span class="ruby-constant">GMAPS_API_KEY</span>
50:             <span class="ruby-keyword kw">end</span>
51:             <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;script src=\&quot;http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;key=#{api_key}\&quot; type=\&quot;text/javascript\&quot;&gt;&lt;/script&gt;\n&quot;</span>
52:             <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;style type=\&quot;text/css\&quot;&gt;\n v\:* { behavior:url(#default#VML);}\n&lt;/style&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with_vml</span>]
53:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:yahoo</span>
54:             <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot; src=\&quot;http://api.maps.yahoo.com/ajaxymap?v=3.4&amp;amp;appid=YellowMasp4R\&quot;&gt;&lt;/script&gt;\n&quot;</span>
55:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:microsoft</span>
56:             <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;script src=\&quot;http://dev.virtualearth.net/mapcontrol/v3/mapcontrol.js\&quot;&gt;&lt;/script&gt;\n&quot;</span>
57:           <span class="ruby-keyword kw">end</span>
58:         <span class="ruby-keyword kw">end</span>
59:         <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;script src=\&quot;/javascripts/mapstraction.js\&quot; type=\&quot;text/javascript\&quot;&gt;&lt;/script&gt;\n&quot;</span>
60:         <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;script src=\&quot;/javascripts/ym4r-mapstraction.js\&quot; type=\&quot;text/javascript\&quot;&gt;&lt;/script&gt;\n&quot;</span>
61:         <span class="ruby-identifier">a</span>
62:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(container, map_type, variable = &quot;map&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
By default the map in the HTML page will be globally accessible with the
name <tt>map</tt>. <tt>map_type</tt> is one of three choices:
<tt>:google</tt>, <tt>:yahoo</tt> or <tt>microsoft</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 22</span>
22:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">container</span>, <span class="ruby-identifier">map_type</span>, <span class="ruby-identifier">variable</span> = <span class="ruby-value str">&quot;map&quot;</span>)
23:         <span class="ruby-ivar">@container</span> = <span class="ruby-identifier">container</span>
24:         <span class="ruby-ivar">@map_type</span> = <span class="ruby-identifier">map_type</span>
25:         <span class="ruby-ivar">@variable</span> = <span class="ruby-identifier">variable</span>
26:         <span class="ruby-ivar">@init</span> = []
27:         <span class="ruby-ivar">@init_begin</span> = []
28:         <span class="ruby-ivar">@init_end</span> = []
29:         <span class="ruby-ivar">@global_init</span> = []
30:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">center_zoom_init</span><span class="method-args">(center, zoom)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the initial center and zoom of the map. <tt>center</tt> can be
both a GLatLng object or a 2-float array.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 95</span>
 95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">center_zoom_init</span>(<span class="ruby-identifier">center</span>, <span class="ruby-identifier">zoom</span>)
 96:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">center</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">LatLonPoint</span>)
 97:           <span class="ruby-ivar">@init_begin</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">set_center_and_zoom</span>(<span class="ruby-identifier">center</span>,<span class="ruby-identifier">zoom</span>)
 98:         <span class="ruby-keyword kw">else</span>
 99:           <span class="ruby-ivar">@init_begin</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">set_center_and_zoom</span>(<span class="ruby-constant">LatLonPoint</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">center</span>),<span class="ruby-identifier">zoom</span>)
100:         <span class="ruby-keyword kw">end</span>
101:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">center_zoom_on_bounds_init</span><span class="method-args">(bounds)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Center and zoom based on the bbox corners. Pass a GLatLngBounds object, an
array of 2D coordinates (sw and ne) or an array of GLatLng objects (sw and
ne).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 104</span>
104:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">center_zoom_on_bounds_init</span>(<span class="ruby-identifier">bounds</span>)
105:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
106:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
107:             <span class="ruby-identifier">bounds</span> = <span class="ruby-constant">BoundingBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>][<span class="ruby-value">0</span>],<span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>][<span class="ruby-value">1</span>],<span class="ruby-identifier">bounds</span>[<span class="ruby-value">1</span>][<span class="ruby-value">0</span>],<span class="ruby-identifier">bounds</span>[<span class="ruby-value">1</span>][<span class="ruby-value">1</span>])
108:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">LatLonPoint</span>)
109:             <span class="ruby-identifier">bounds</span> = <span class="ruby-constant">BoundingBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">lat</span>,<span class="ruby-identifier">bounds</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">lon</span>,<span class="ruby-identifier">bounds</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">lat</span>,<span class="ruby-identifier">bounds</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">lon</span>)
110:           <span class="ruby-keyword kw">end</span>
111:         <span class="ruby-keyword kw">end</span>
112:         <span class="ruby-comment cmt">#else it is already a latlngbounds object</span>
113: 
114:         <span class="ruby-ivar">@init_begin</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">set_bounds</span>(<span class="ruby-identifier">bounds</span>)
115:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">clusterer_global_init</span><span class="method-args">(clusterer,name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 175</span>
175:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clusterer_global_init</span>(<span class="ruby-identifier">clusterer</span>,<span class="ruby-identifier">name</span>)
176:         <span class="ruby-identifier">declare_global_init</span>(<span class="ruby-identifier">clusterer</span>,<span class="ruby-identifier">name</span>)
177:         <span class="ruby-identifier">clusterer_init</span>(<span class="ruby-identifier">clusterer</span>)
178:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="#M000029" class="method-signature">
          <span class="method-name">clusterer_init</span><span class="method-args">(clusterer)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 130</span>
130:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clusterer_init</span>(<span class="ruby-identifier">clusterer</span>)
131:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_clusterer</span>(<span class="ruby-identifier">clusterer</span>)
132:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">control_init</span><span class="method-args">(controls = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the controls: you can pass a hash with key <tt>:small</tt>
(only one for now) and a boolean value as the value (usually true, since
the control is not displayed by default). Also in later version, you can be
a bit more precise, with the following keys: pan (boolean), zoom (:large or
:small), overview (boolean), scale (boolean), map_type (boolean)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">control_init</span>(<span class="ruby-identifier">controls</span> = {})
85:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">controls</span>[<span class="ruby-identifier">:small</span>]
86:           <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_small_controls</span>()
87:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">controls</span>[<span class="ruby-identifier">:large</span>]
88:           <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_large_controls</span>()
89:         <span class="ruby-keyword kw">else</span>
90:           <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_controls</span>(<span class="ruby-identifier">controls</span>)
91:         <span class="ruby-keyword kw">end</span>
92:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">create</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs in JavaScript the creation of a <a
href="Mapstraction.html">Mapstraction</a> object
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 233</span>
233:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>
234:         <span class="ruby-node">&quot;new Mapstraction(\&quot;#{@container}\&quot;,\&quot;#{@map_type.to_s}\&quot;)&quot;</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">declare_global_init</span><span class="method-args">(variable,name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Globally declare a <a href="MappingObject.html">MappingObject</a> with
variable name &quot;name&quot;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 186</span>
186:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">declare_global_init</span>(<span class="ruby-identifier">variable</span>,<span class="ruby-identifier">name</span>)
187:         <span class="ruby-ivar">@global_init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">variable</span>.<span class="ruby-identifier">declare</span>(<span class="ruby-identifier">name</span>)
188:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="#M000032" class="method-signature">
          <span class="method-name">declare_init</span><span class="method-args">(variable, name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Locally declare a <a href="MappingObject.html">MappingObject</a> with
variable name &quot;name&quot;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 144</span>
144:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">declare_init</span>(<span class="ruby-identifier">variable</span>, <span class="ruby-identifier">name</span>)
145:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">variable</span>.<span class="ruby-identifier">declare</span>(<span class="ruby-identifier">name</span>)
146:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="#M000021" class="method-signature">
          <span class="method-name">div</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs the &lt;<a href="Mapstraction.html#M000021">div</a>
id=&#8230;&gt;&lt;/<a href="Mapstraction.html#M000021">div</a>&gt; which
has been configured to contain the map. You can pass <tt>:width</tt> and
<tt>:height</tt> as options to output this in the style attribute of the
DIV element (you could also achieve the same effect by putting the
dimension info into a CSS or using the instance method <a
href="Mapstraction.html#M000022">Mapstraction#header_width_height</a>)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000021-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 65</span>
65:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">div</span>(<span class="ruby-identifier">options</span> = {})
66:         <span class="ruby-identifier">attributes</span> = <span class="ruby-node">&quot;id=\&quot;#{@container}\&quot; &quot;</span>
67:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:height</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:width</span>)
68:           <span class="ruby-identifier">attributes</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;style=\&quot;width:#{options[:width]}px;height:#{options[:height]}px\&quot;&quot;</span>
69:         <span class="ruby-keyword kw">end</span>
70:         <span class="ruby-node">&quot;&lt;div #{attributes}&gt;&lt;/div&gt;&quot;</span>
71:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="#M000035" class="method-signature">
          <span class="method-name">event_global_init</span><span class="method-args">(object,event,callback)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Registers an event globally
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 159</span>
159:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">event_global_init</span>(<span class="ruby-identifier">object</span>,<span class="ruby-identifier">event</span>,<span class="ruby-identifier">callback</span>)
160:         <span class="ruby-ivar">@global_init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{object.to_javascript}.addEventListener(\&quot;#{MappingObject.javascriptify_method(event.to_s)}\&quot;,#{callback})&quot;</span>
161:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="#M000034" class="method-signature">
          <span class="method-name">event_init</span><span class="method-args">(object,event,callback)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Registers an event
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 154</span>
154:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">event_init</span>(<span class="ruby-identifier">object</span>,<span class="ruby-identifier">event</span>,<span class="ruby-identifier">callback</span>)
155:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{object.to_javascript}.addEventListener(\&quot;#{MappingObject.javascriptify_method(event.to_s)}\&quot;,#{callback})&quot;</span>
156:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="#M000022" class="method-signature">
          <span class="method-name">header_width_height</span><span class="method-args">(width,height)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs a style declaration setting the dimensions of the DIV container of
the map. This info can also be set manually in a CSS.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000022-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 74</span>
74:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header_width_height</span>(<span class="ruby-identifier">width</span>,<span class="ruby-identifier">height</span>)
75:         <span class="ruby-node">&quot;&lt;style type=\&quot;text/css\&quot;&gt;\n##{@container} { height: #{height}px;\n  width: #{width}px;\n}\n&lt;/style&gt;&quot;</span>
76:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="#M000036" class="method-signature">
          <span class="method-name">marker_global_init</span><span class="method-args">(marker,name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Declares the marker globally with name <tt>name</tt>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 164</span>
164:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">marker_global_init</span>(<span class="ruby-identifier">marker</span>,<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
165:         <span class="ruby-identifier">declare_global_init</span>(<span class="ruby-identifier">marker</span>,<span class="ruby-identifier">name</span>)
166:         <span class="ruby-identifier">marker_init</span>(<span class="ruby-identifier">marker</span>,<span class="ruby-identifier">options</span>)
167:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">marker_group_global_init</span><span class="method-args">(marker_group,name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Declares the marker group globally with name <tt>name</tt>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 170</span>
170:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">marker_group_global_init</span>(<span class="ruby-identifier">marker_group</span>,<span class="ruby-identifier">name</span>)
171:         <span class="ruby-identifier">declare_global_init</span>(<span class="ruby-identifier">marker_group</span>,<span class="ruby-identifier">name</span>)
172:         <span class="ruby-identifier">marker_group_init</span>(<span class="ruby-identifier">marker_group</span>)
173:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="#M000028" class="method-signature">
          <span class="method-name">marker_group_init</span><span class="method-args">(marker_group)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000028-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 126</span>
126:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">marker_group_init</span>(<span class="ruby-identifier">marker_group</span>)
127:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_marker_group</span>(<span class="ruby-identifier">marker_group</span>)
128:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">marker_init</span><span class="method-args">(marker, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initializes the map by adding a marker
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 118</span>
118:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">marker_init</span>(<span class="ruby-identifier">marker</span>, <span class="ruby-identifier">options</span> = {})
119:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:open_bubble</span>]
120:           <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_marker_and_open</span>(<span class="ruby-identifier">marker</span>)
121:         <span class="ruby-keyword kw">else</span>
122:           <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_marker</span>(<span class="ruby-identifier">marker</span>)
123:         <span class="ruby-keyword kw">end</span>
124:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">polyline_global_init</span><span class="method-args">(polyline, name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">polyline_global_init</span>(<span class="ruby-identifier">polyline</span>, <span class="ruby-identifier">name</span>)
181:         <span class="ruby-identifier">declare_global_init</span>(<span class="ruby-identifier">polyline</span>,<span class="ruby-identifier">name</span>)
182:         <span class="ruby-identifier">polyline_init</span>(<span class="ruby-identifier">clusterer</span>)
183:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="#M000030" class="method-signature">
          <span class="method-name">polyline_init</span><span class="method-args">(polyline)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000030-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 134</span>
134:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">polyline_init</span>(<span class="ruby-identifier">polyline</span>)
135:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">add_polyline</span>(<span class="ruby-identifier">polyline</span>)
136:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="#M000033" class="method-signature">
          <span class="method-name">record_global_init</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Records arbitrary JavaScript code and outputs it during initialization
outside the <tt>load</tt> function (ie globally).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 149</span>
149:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_global_init</span>(<span class="ruby-identifier">code</span>)
150:         <span class="ruby-ivar">@global_init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">code</span>
151:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">record_init</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Records arbitrary JavaScript code and outputs it during initialization
inside the <tt>load</tt> function.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 79</span>
79:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_init</span>(<span class="ruby-identifier">code</span>)
80:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">code</span>
81:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="#M000031" class="method-signature">
          <span class="method-name">set_map_type_init</span><span class="method-args">(map_type)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the map type displayed by default after the map is loaded.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_map_type_init</span>(<span class="ruby-identifier">map_type</span>)
140:         <span class="ruby-ivar">@init</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">set_map_type</span>(<span class="ruby-identifier">map_type</span>)
141:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">to_html</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Outputs the initialization code for the map. By default, it outputs the
script tags, performs the initialization in response to the onload event of
the window and makes the map globally available. You can pass the <tt>:full
=&gt; true</tt> option to setup fullscreen for the map.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/ym4r_mapstraction/lib/mapstraction_plugin/mapstraction.rb, line 191</span>
191:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_html</span>(<span class="ruby-identifier">options</span> = {})
192:         <span class="ruby-identifier">no_load</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:no_load</span>]
193:         <span class="ruby-identifier">no_script_tag</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:no_script_tag</span>]
194:         <span class="ruby-identifier">no_declare</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:no_declare</span>]
195:         <span class="ruby-identifier">no_global</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:no_global</span>]
196:         <span class="ruby-identifier">fullscreen</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:full</span>]
197:         
198:         <span class="ruby-identifier">html</span> = <span class="ruby-value str">&quot;&quot;</span>
199:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_script_tag</span>
200:         <span class="ruby-comment cmt">#put the functions in a separate javascript file to be included in the page</span>
201:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@global_init</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>
202:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;var #{@variable};\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_declare</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_global</span>
203:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;window.onload = addCodeToFunction(window.onload,function() {\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_load</span>
204:         
205:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">fullscreen</span>
206:           <span class="ruby-comment cmt">#Adding the initial resizing and setting up the event handler for</span>
207:           <span class="ruby-comment cmt">#future resizes</span>
208:           <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;setWindowDims($('#{@container}'));\n&quot;</span>
209:           <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;if (window.attachEvent) { window.attachEvent(\&quot;onresize\&quot;, function() {setWindowDims($('#{@container}'));})} else {window.addEventListener(\&quot;resize\&quot;, function() {setWindowDims($('#{@container}')); } , false);}\n&quot;</span>
210:         <span class="ruby-keyword kw">end</span>
211: 
212:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_declare</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">no_global</span> 
213:           <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{declare(@variable)}\n&quot;</span>
214:         <span class="ruby-keyword kw">else</span>
215:           <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{assign_to(@variable)}\n&quot;</span>
216:         <span class="ruby-keyword kw">end</span>
217:                 
218:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@init_begin</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>
219:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@init</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>
220:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@init_end</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>
221:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n});\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_load</span>
222:         <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;/script&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_script_tag</span>
223:         
224:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">fullscreen</span>
225:           <span class="ruby-comment cmt">#setting up the style in case of full screen</span>
226:           <span class="ruby-identifier">html</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;style&gt;html, body {width: 100%; height: 100%} body {margin:0} ##{@container} {margin:0} &lt;/style&gt;&quot;</span>
227:         <span class="ruby-keyword kw">end</span>
228:                 
229:         <span class="ruby-identifier">html</span>
230:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>